(this.webpackJsonpstonkyness=this.webpackJsonpstonkyness||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(9),r=n.n(s),o=(n(15),n(2)),l=n(3),c=n(5),p=n(4),d=(n(16),n(1)),h=n.n(d),m=n(6),u=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setAmount=function(e){a.setState({amount:e.target.value})},a.setBrand=function(e){a.setState({newBrand:e.target.value})},a.setName=function(e){a.setState({newName:e.target.value})},a.closeAdd=function(){a.setState({addOpen:!1})},a.openAdd=function(){a.setState({addOpen:!0})},a.createItem=Object(m.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={name:a.state.newName,brand:a.state.newBrand,shopname:a.props.name,amount:a.state.amount},e.next=4,fetch(a.props.url+"/api/items",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:n=e.sent,console.log(n.json()),a.setState({rerender:!0,addOpen:!1}),a.forceUpdate(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),a.setState({rerender:!0,addOpen:!1}),a.forceUpdate();case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.getItems=Object(m.a)(h.a.mark((function e(){var t,n,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.props.url+"/api/items");case 2:return t=e.sent,console.log(t),e.next=6,t.json();case 6:for(n=e.sent,console.log(n),i=[],s=0;s<n.length;s++)n[s].shopname===a.props.name&&i.push(n[s]);console.log(i),a.setState({items:i});case 12:case"end":return e.stop()}}),e)}))),a.state={newName:"",newBrand:"",amount:"",items:[],addOpen:!1,rerender:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getItems()}},{key:"componentDidUpdate",value:function(){this.state.rerender&&(this.setState({rerender:!1}),this.getItems())}},{key:"render",value:function(){return i.a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",background:"#eeeeee",display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{width:"100%",height:"70px",background:"#FFF96D",boxShadow:"2px 2px 10px #BCBCBC",display:"flex",alignItems:"center"}},i.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px",height:"100%",transition:"all 0.3s ease",display:"flex",justifyContent:"center",alignItems:"center",cursor:"default",fontSize:"30px",color:"#7B7B7B"}},this.props.name)),i.a.createElement("div",{style:{width:"100%",height:"calc(100% - 70px)",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{style:{height:"calc(100% - 20px)",width:"calc(100% - 20px)",background:"white",display:"flex",flexWrap:"wrap"}},i.a.createElement("div",{onClick:this.openAdd,style:{cursor:"point",display:"flex",margin:"10px",height:"200px",width:"120px",background:"#eeeeee",justifyContent:"center",alignItems:"center",textAlign:"center",fontSize:"40px"}},"+"),this.state.items.map((function(e,t){return i.a.createElement("div",{style:{cursor:"point",display:"flex",margin:"10px",height:"200px",width:"120px",background:"#eeeeee",justifyContent:"center",alignItems:"center",textAlign:"center"}},e.brand+" "+e.name)})))),this.state.addOpen&&i.a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{onClick:this.closeAdd,style:{zIndex:9,position:"absolute",height:"100%",width:"100%",background:"black",opacity:.3}}),i.a.createElement("div",{style:{position:"relative",zIndex:10,height:"350px",width:"250px",background:"white",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px",fontSize:"30px"}},"Create Item"),i.a.createElement("div",{style:{marginTop:"20px"}},"name"),i.a.createElement("input",{onChange:this.setName,value:this.state.newName,style:{border:"none",borderBottom:"2px solid #7B7B7B",outline:"none",background:"transparent"}}),i.a.createElement("div",{style:{marginTop:"20px"}},"brand"),i.a.createElement("input",{onChange:this.setBrand,value:this.state.newBrand,style:{border:"none",borderBottom:"2px solid #7B7B7B",outline:"none",background:"transparent"}}),i.a.createElement("div",{style:{marginTop:"20px"}},"amount"),i.a.createElement("input",{onChange:this.setAmount,value:this.state.amount,style:{border:"none",borderBottom:"2px solid #7B7B7B",outline:"none",background:"transparent"}}),i.a.createElement("div",{onClick:this.createItem,style:{cursor:"pointer",marginTop:"10px",bottom:"10px",padding:"10px 20px",background:"lightgrey"}},"create"))))}}]),n}(i.a.Component),x=n(7),g=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setSelectedItemItem=function(e){var t=[].concat(a.state.shoppingList);t[a.state.resultsIndex].item=e,a.setState({shoppingList:t})},a.createNewShoppingItem=function(){if(a.state.shoppingList.length&&""!==a.state.shoppingList[a.state.shoppingList.length-1].description){var e={description:"",item:null};(t=[].concat(a.state.shoppingList)).push(e),a.setState({shoppingList:t})}else if(!a.state.shoppingList.length){var t;e={description:"",item:null};(t=[].concat(a.state.shoppingList)).push(e),a.setState({shoppingList:t})}},a.closeStore=function(){a.setState({shopPage:""})},a.openStore=function(e){a.setState({shopPage:e})},a.exitResults=function(){a.setState({resultsIndex:-1})},a.setListItem=function(e,t){var n=a.state.shoppingList;console.log(t),n[t].description=e.target.value,a.setState({shoppingList:n,resultsIndex:t,results:[]},a.getResults)},a.listItemClick=function(e){a.setState({resultsIndex:e,results:[]},a.getResults)},a.getResults=function(){for(var e=[],t=0;t<a.state.items.length;t++)a.state.items[t].name.toUpperCase().includes(a.state.shoppingList[a.state.resultsIndex].description.toUpperCase())&&e.push(a.state.items[t]);a.setState({results:e})},a.setOpenNavItem=function(e){e===a.state.openNavItem?a.setState({openNavItem:-1}):a.setState({openNavItem:e})},a.setSelectedNav=function(e){a.setState({topNavSelected:e})},a.test=Object(m.a)(h.a.mark((function e(){var t,n,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.props.url+"/api/items");case 2:return t=e.sent,console.log(t),e.next=6,t.json();case 6:for(n=e.sent,console.log(n),i=[],s=0;s<n.length;s++)-1===i.indexOf(n[s].shopname)&&i.push(n[s].shopname);console.log(i),a.setState({items:n,shops:i});case 12:case"end":return e.stop()}}),e)}))),a.state={topNavSelected:"shops",shoppingList:[],openNavItem:-1,items:[],shops:[],resultsIndex:-1,results:[],shopPage:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.test()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",background:"#eeeeee",display:"flex",flexDirection:"column",color:"#7B7B7B"}},i.a.createElement("div",{style:{width:"100%",height:"70px",background:"#FFF96D",boxShadow:"2px 2px 10px #BCBCBC",display:"flex",alignItems:"center"}},i.a.createElement("div",{onClick:function(){return e.setSelectedNav("shops")},style:{flexGrow:"shops"===this.state.topNavSelected?1:0,height:"100%",transition:"all 0.3s ease",minWidth:"20%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"30px",color:"#7B7B7B"}},"Shopping"),i.a.createElement("div",{style:{height:"calc(100% - 10px)",width:"2px",background:"white"}}),i.a.createElement("div",{onClick:function(){return e.setSelectedNav("accounts")},style:{flexGrow:"accounts"===this.state.topNavSelected?1:0,minWidth:"20%",transition:"all 0.3s ease",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"30px",color:"#7B7B7B"}},"Account"),i.a.createElement("div",{style:{height:"calc(100% - 10px)",width:"2px",background:"white"}}),i.a.createElement("div",{onClick:function(){return e.setSelectedNav("cart")},style:{flexGrow:"cart"===this.state.topNavSelected?1:0,minWidth:"20%",height:"100%",transition:"all 0.3s ease",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"30px",color:"#7B7B7B"}},"Cart")),i.a.createElement("div",{style:{flexGrow:1,width:"100%",display:"flex"}},i.a.createElement("div",{style:{height:"100%",width:"300px",maxWidth:"30%",background:"white"}},this.state.shoppingList.map((function(t,n){return i.a.createElement("div",{onClick:function(){return e.setOpenNavItem(n)},style:{cursor:"pointer",maxHeight:t.item&&e.state.openNavItem===n?"90px":"70px",width:"100%",transition:"all 0.2s ease",overflow:"hidden"}},i.a.createElement("div",{style:{width:"100%",height:"40px",display:"flex"}},i.a.createElement("div",{style:{height:"100%",width:"40px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"30px"}},t.item?i.a.createElement(x.b,null):i.a.createElement(x.c,null)),i.a.createElement("input",{onClick:function(){return e.listItemClick(n)},onChange:function(t){return e.setListItem(t,n)},value:t.description,style:{border:"none",borderBottom:"2px solid #7B7B7B",outline:"none",background:"transparent"}})),t.item&&i.a.createElement("div",{style:{height:"40px",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start"}},i.a.createElement("div",{style:{flex:1,marginLeft:"40px",flexShrink:0}},i.a.createElement("div",{style:{minHeight:"30px",display:"flex",flexShrink:0,alignItems:"center",fontSize:"12px"}},t.item.brand+" "+t.item.name),i.a.createElement("div",{style:{height:"20px",display:"flex",alignItems:"center",fontSize:"10px"}},t.item.shopname)),i.a.createElement("div",{style:{height:"100%",marginRight:"10px",marginLeft:"10px"}},"R "+t.item.amount)))})),i.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{onClick:this.createNewShoppingItem,style:{cursor:"pointer",padding:"10px 20px",background:"lightgrey",boxShadow:"0px 0px 2px #E2E2E2",fontWeight:"bold"}},"add"))),-1!==this.state.resultsIndex?i.a.createElement("div",{style:{height:"100%",width:"calc(100% - 300px)",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{style:{height:"calc(100% - 40px)",width:"calc(100% - 40px)",background:"white",boxShadow:"2px 2px 10px #BCBCBC"}},i.a.createElement("div",{style:{width:"100%",height:"80px",display:"flex",alignItems:"center"}},i.a.createElement("div",{onClick:this.exitResults,style:{height:"100%",width:"80px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"30px",color:"#7B7B7B",cursor:"pointer"}},i.a.createElement(x.a,null)),"showing results for:",i.a.createElement("div",{style:{marginLeft:"10px",fontSize:"25px"}},this.state.shoppingList[this.state.resultsIndex].description)),i.a.createElement("div",{style:{width:"100%",display:"flex",height:"calc(100% - 80px)",overflowY:"auto",overflowX:"hidden",flexWrap:"wrap"}},this.state.results.map((function(t,n){return i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"220px",width:"140px"}},i.a.createElement("div",{onClick:function(){return e.setSelectedItemItem(t)},style:{display:"flex",border:t.brand+" "+t.name===e.state.shoppingList[e.state.resultsIndex].item.brand+" "+e.state.shoppingList[e.state.resultsIndex].item.name?"2px solid yellow":"0",height:"200px",width:"120px",background:"#eeeeee",justifyContent:"center",alignItems:"center",textAlign:"center"}},t.brand+" "+t.name))}))))):""!==this.state.shopPage?i.a.createElement("div",{style:{height:"100%",width:"calc(100% - 300px)",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{style:{height:"calc(100% - 40px)",width:"calc(100% - 40px)",background:"white",boxShadow:"2px 2px 10px #BCBCBC"}},i.a.createElement("div",{style:{width:"100%",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"25px",fontWeight:"bold"}},i.a.createElement("div",{onClick:this.closeStore,style:{height:"100%",width:"80px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},i.a.createElement(x.a,null)),i.a.createElement("div",{style:{flexGrow:1,marginRight:"80px",display:"flex",justifyContent:"center",alignItems:"center"}},this.state.shopPage)),i.a.createElement("div",{style:{width:"100%",display:"flex",height:"calc(100% - 80px)",overflowY:"auto",overflowX:"hidden",flexWrap:"wrap"}},this.state.items.map((function(t,n){return t.shopname===e.state.shopPage&&i.a.createElement("div",{style:{display:"flex",margin:"10px",height:"200px",width:"120px",background:"#eeeeee",justifyContent:"center",alignItems:"center",textAlign:"center"}},t.brand+" "+t.name)}))))):i.a.createElement("div",{style:{height:"100%",width:"calc(100% - 300px)",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{style:{height:"calc(100% - 40px)",width:"calc(100% - 40px)",background:"white",boxShadow:"2px 2px 10px #BCBCBC"}},i.a.createElement("div",{style:{width:"100%",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"25px",fontWeight:"bold"}},"Shops around you"),i.a.createElement("div",{style:{width:"100%",display:"flex",height:"calc(100% - 80px)",overflowY:"auto",overflowX:"hidden",flexWrap:"wrap"}},this.state.shops.map((function(t,n){return i.a.createElement("div",{onClick:function(){return e.openStore(t)},style:{cursor:"point",display:"flex",margin:"10px",height:"200px",width:"120px",background:"#eeeeee",justifyContent:"center",alignItems:"center",textAlign:"center"}},t)})))))))}}]),n}(i.a.Component),f=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).openUser=function(){a.setState({type:"user",loggedIn:!0})},a.openAdmin=function(e){a.setState({type:"admin",loggedIn:!0,name:e})},a.state={type:"none",loggedIn:!1,name:"untiled",url:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",background:"#eeeeee",display:"flex",justifyContent:"center",alignItems:"center"}},this.state.loggedIn?"user"===this.state.type?i.a.createElement(g,{url:this.state.url}):i.a.createElement(u,{url:this.state.url,name:this.state.name}):i.a.createElement("div",{style:{height:"600px",width:"300px",boxShadow:"2px 2px 10px #BCBCBC",display:"flex"}},i.a.createElement("div",{className:"button",style:{flex:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},i.a.createElement("div",{style:{fontSize:"25px",fontWeight:"bold",marginBottom:"10px"}},"Admin"),i.a.createElement("div",{onClick:function(){return e.openAdmin("Minimart")},style:{marginTop:"10px",fontSize:"15px"}},"Minimart"),i.a.createElement("div",{onClick:function(){return e.openAdmin("Fresh Foods")},style:{marginTop:"10px",fontSize:"15px"}},"Fresh Foods"),i.a.createElement("div",{onClick:function(){return e.openAdmin("Liquor guys")},style:{marginTop:"10px",fontSize:"15px"}},"Liquor guys"),i.a.createElement("div",{onClick:function(){return e.openAdmin("Build smart")},style:{marginTop:"10px",fontSize:"15px"}},"Build smart")),i.a.createElement("div",{onClick:this.openUser,className:"button",style:{flex:1,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},"User")))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.e5acef52.chunk.js.map